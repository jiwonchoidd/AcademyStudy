
 1)
CREATE PROCEDURE CreateAccountUser @UID NCHAR(10), @UPS NCHAR(10)
AS
	BEGIN
	INSERT INTO USERLIST(USERID, USERPS) VALUES(@UID, @UPS);
	END

 2)
CREATE PROCEDURE UpdateSetUser @param1 NCHAR(10), @param2 NCHAR(10), @param3 NCHAR(10)
AS
	UPDATE USERLIST SET USERID = @param1, USERPS = @param2	WHERE USERID = @param3
RETURN 0

 3)
CREATE PROCEDURE JoinUser @UID NCHAR(10), @UPS NCHAR(10)
AS
	UPDATE KGCA3D.dbo.USERLIST SET LoginTime = GETDATE() WHERE USERID = @UID
RETURN 3;

 4)
CREATE PROCEDURE CreateAccountUser @UID NCHAR(10),@UPS NCHAR(10),@RETN int OUTPUT
AS
	SET NOCOUNT ON
	BEGIN TRY
		DECLARE @ret NCHAR(10);
		select @ret=USERID from USERLIST where USERID = @UID
		IF(@ret <> N'')
		BEGIN
			SET @RETN = 3
			RETURN 3;
		END
		INSERT INTO USERLIST(USERID, USERPS, AccountTime) VALUES(@UID, @UPS, GETDATE());
		EXECUTE KGCA3D.dbo.JoinUser @UID, @UPS
		SET @RETN = 1
		RETURN 1;
	END TRY

-- ERROR
	BEGIN CATCH
		SET @RETN = 9
		return 9;
		END CATCH

 5)
CREATE PROCEDURE GetImageStreaming @Param1 NCHAR(10), @Param2 VARBINARY(MAX) OUTPUT
AS
	BEGIN	
	SET NOCOUNT ON;
	SELECT @Param2 = BlobData FROM USERLIST WHERE USERID = @Param1
END