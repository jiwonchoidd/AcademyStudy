
///////////////////////////////////////////////////////////////////////////
// FrameSkip 클래스.
//
// 별로 기능이 많은 클래스는 아니나, 게임에 자주 쓰이므로
// 클래스로 제작하였다.
// 
// WIN32 환경에서 사용되도록 제작되으므로 다른 OS 에서는 사용할 수 없다.
// WIN32 의 멀티미디어 타이머인 timeGetTime() 함수를 이용하여 
// 프레임 속도를 맞춘다.
///////////////////////////////////////////////////////////////////////////
#ifndef _FRAME_SKIPING_
#define _FRAME_SKIPING_

class CFrameSkip
{
protected:

	///////////////////////////////////////////////////////////////////////////
	// 최대 프레임 속도. 이 속도에 맞춰서 프레임 스킵을 한다.
	///////////////////////////////////////////////////////////////////////////
	int				m_iMaxFPS;

	///////////////////////////////////////////////////////////////////////////
	// 프레임 속도 조절시 사용하게될 Tick 값. 한프레임에 사용되는 Tick 값.
	// 1000 / m_iMaxFPS
	///////////////////////////////////////////////////////////////////////////
	int				m_iOneFrameTick;

	///////////////////////////////////////////////////////////////////////////
	// FrameSkip() 을 호출하기 전 timeGetTime 으로 얻은 Tick 값.
	///////////////////////////////////////////////////////////////////////////
	DWORD			m_dwSystemTick;

	///////////////////////////////////////////////////////////////////////////
	// m_dwSystemTick 값에서 이번 프레임에서 얻은 Tick 값의 차를 저장한다.
	///////////////////////////////////////////////////////////////////////////
	int				m_iTick;


public:

	///////////////////////////////////////////////////////////////////////////
	// 생성자, 파괴자.
	//
	// Parameters: (int) 죄대 프레임.
	// Return: 없음.
	///////////////////////////////////////////////////////////////////////////
	CFrameSkip(int iMaxFPS);
	~CFrameSkip();

	///////////////////////////////////////////////////////////////////////////
	// 프레임 스킵을 위한 함수.
	// 게임의 메인 루프중 그리기 부분을 이 함수로 체크하여 TRUE 가 떨어질 경우에만
	// 그리기를 실행하며, FALSE 가 나오게 되면 그리지 않고 그냥 넘어간다.
	///////////////////////////////////////////////////////////////////////////
	BYTE			FrameSkip(void);

};

#endif
